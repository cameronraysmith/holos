<div class="content-container">
  <mat-tab-group>
    <mat-tab label="Detail">
      @if (platform$ | async; as platform) {
        <form [formGroup]="form" (ngSubmit)="onSubmit(model)">
          @for (section of sections; track section.name) {
            <div class="grid-container">
              <h2>{{section.displayName ? section.displayName : section.name }}</h2>
              <p>{{ section.description }}</p>
              <formly-form [form]="form" [fields]="section.fields" [model]="model[section.name]"></formly-form>
            </div>
          }
          <div class="grid-container">
            <button type="submit" mat-flat-button color="primary">Submit</button>
          </div>
        </form>
      }
    </mat-tab>

    <mat-tab label="Raw">
      <div class="grid-container">
        @if (platform$ | async; as platform) {
          <pre>{{ platform | json }}</pre>
        }
      </div>
    </mat-tab>
  </mat-tab-group>
</div>
