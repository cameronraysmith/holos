<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# v1alpha4

```go
import "github.com/holos-run/holos/api/core/v1alpha4"
```

Package v1alpha4 contains the core API contract between the holos cli and CUE configuration code. Platform designers, operators, and software developers use this API to write configuration in CUE which \`holos\` loads. The overall shape of the API defines imperative actions \`holos\` should carry out to render the complete yaml that represents a Platform.

[Platform](<#Platform>) defines the complete configuration of a platform. With the holos reference platform this takes the shape of one management cluster and at least two workload clusters. Each cluster has multiple \[Component\] resources applied to it.

Each holos component path, e.g. \`components/namespaces\` produces exactly one [BuildPlan](<#BuildPlan>) which produces an \[Artifact\]. An \[Artifact\] is a collection of fully rendered manifest files written to the filesystem.

## Index

- [type APIObject](<#APIObject>)
- [type APIObjectMap](<#APIObjectMap>)
- [type APIObjects](<#APIObjects>)
- [type BuildPlan](<#BuildPlan>)
- [type BuildPlanSpec](<#BuildPlanSpec>)
- [type FileContent](<#FileContent>)
- [type FileContentMap](<#FileContentMap>)
- [type FilePath](<#FilePath>)
- [type InternalLabel](<#InternalLabel>)
- [type Kind](<#Kind>)
- [type NameLabel](<#NameLabel>)
- [type Platform](<#Platform>)
- [type PlatformComponent](<#PlatformComponent>)
- [type PlatformMetadata](<#PlatformMetadata>)
- [type PlatformSpec](<#PlatformSpec>)


<a name="APIObject"></a>
## type APIObject {#APIObject}

APIObject represents the most basic generic form of a single kubernetes api object. Represented as a JSON object internally for compatibility between tools, for example loading from CUE.

```go
type APIObject structpb.Struct
```

<a name="APIObjectMap"></a>
## type APIObjectMap {#APIObjectMap}

APIObjectMap represents the marshalled yaml representation of kubernetes api objects. Do not produce an APIObjectMap directly, instead use [APIObjects](<#APIObjects>) to produce the marshalled yaml representation from CUE data, then provide the result to \[Component\].

```go
type APIObjectMap map[Kind]map[InternalLabel]string
```

<a name="APIObjects"></a>
## type APIObjects {#APIObjects}

APIObjects represents Kubernetes API objects defined directly from CUE code. Useful to mix in resources to any kind of \[Component\], for example adding an ExternalSecret resource to a \[HelmChart\].

[Kind](<#Kind>) must be the resource kind, e.g. Deployment or Service.

[InternalLabel](<#InternalLabel>) is an arbitrary internal identifier to uniquely identify the resource within the context of a \`holos\` command. Holos will never write the intermediate label to rendered output.

Refer to \[Component\] which accepts an [APIObjectMap](<#APIObjectMap>) field provided by [APIObjects](<#APIObjects>).

```go
type APIObjects struct {
    APIObjects   map[Kind]map[InternalLabel]APIObject `json:"apiObjects"`
    APIObjectMap APIObjectMap                         `json:"apiObjectMap"`
}
```

<a name="BuildPlan"></a>
## type BuildPlan {#BuildPlan}

BuildPlan represents a build plan for the holos cli to execute. The purpose of a BuildPlan is to define one or more \[Component\] kinds. For example a \[HelmChart\], \[KustomizeBuild\], or \[KubernetesObjects\].

A BuildPlan usually has an additional empty \[KubernetesObjects\] for the purpose of using the \[Component\] DeployFiles field to deploy an ArgoCD or Flux gitops resource for the holos component.

```go
type BuildPlan struct {
    Kind       string        `json:"kind" cue:"\"BuildPlan\""`
    APIVersion string        `json:"apiVersion" cue:"string | *\"v1alpha4\""`
    Spec       BuildPlanSpec `json:"spec"`
}
```

<a name="BuildPlanSpec"></a>
## type BuildPlanSpec {#BuildPlanSpec}

BuildPlanSpec represents the specification of the build plan.

```go
type BuildPlanSpec struct {
    // Disabled causes the holos cli to take no action over the [BuildPlan].
    Disabled bool `json:"disabled,omitempty"`
}
```

<a name="FileContent"></a>
## type FileContent {#FileContent}

FileContent represents file contents.

```go
type FileContent string
```

<a name="FileContentMap"></a>
## type FileContentMap {#FileContentMap}

FileContentMap represents a mapping of file paths to file contents.

```go
type FileContentMap map[FilePath]FileContent
```

<a name="FilePath"></a>
## type FilePath {#FilePath}

FilePath represents a file path.

```go
type FilePath string
```

<a name="InternalLabel"></a>
## type InternalLabel {#InternalLabel}

InternalLabel is an arbitrary unique identifier internal to holos itself. The holos cli is expected to never write a InternalLabel value to rendered output files, therefore use a [InternalLabel](<#InternalLabel>) when the identifier must be unique and internal. Defined as a type for clarity and type checking.

A InternalLabel is useful to convert a CUE struct to a list, for example producing a list of [APIObject](<#APIObject>) resources from an [APIObjectMap](<#APIObjectMap>). A CUE struct using InternalLabel keys is guaranteed to not lose data when rendering output because a InternalLabel is expected to never be written to the final output.

```go
type InternalLabel string
```

<a name="Kind"></a>
## type Kind {#Kind}

Kind is a kubernetes api object kind. Defined as a type for clarity and type checking.

```go
type Kind string
```

<a name="NameLabel"></a>
## type NameLabel {#NameLabel}

NameLabel is a unique identifier useful to convert a CUE struct to a list when the values have a Name field with a default value. This type is intended to indicate the common use case of converting a struct to a list where the Name field of the value aligns with the struct field name.

```go
type NameLabel string
```

<a name="Platform"></a>
## type Platform {#Platform}

Platform represents a platform to manage. A Platform resource informs holos which components to build. The platform resource also acts as a container for the platform model form values provided by the PlatformService. The primary use case is to collect the cluster names, cluster types, platform model, and holos components to build into one resource.

```go
type Platform struct {
    // Kind is a string value representing the resource this object represents.
    Kind string `json:"kind" cue:"\"Platform\""`
    // APIVersion represents the versioned schema of this representation of an object.
    APIVersion string `json:"apiVersion" cue:"string | *\"v1alpha4\""`
    // Metadata represents data about the object such as the Name.
    Metadata PlatformMetadata `json:"metadata"`

    // Spec represents the specification.
    Spec PlatformSpec `json:"spec"`
}
```

<a name="PlatformComponent"></a>
## type PlatformComponent {#PlatformComponent}

PlatformComponent represents a holos component providing a BuildPlan.

```go
type PlatformComponent struct {
    // Path is the path of the component relative to the platform root.
    Path string `json:"path"`
    // Cluster is the cluster name to provide when rendering the component.
    Cluster string `json:"cluster"`
}
```

<a name="PlatformMetadata"></a>
## type PlatformMetadata {#PlatformMetadata}



```go
type PlatformMetadata struct {
    // Name represents the Platform name.
    Name string `json:"name"`
}
```

<a name="PlatformSpec"></a>
## type PlatformSpec {#PlatformSpec}

PlatformSpec represents the specification of a Platform. Think of a platform specification as a list of platform components to apply to a list of kubernetes clusters combined with the user\-specified Platform Model.

```go
type PlatformSpec struct {
    // Model represents the platform model holos gets from from the
    // PlatformService.GetPlatform rpc method and provides to CUE using a tag.
    Model structpb.Struct `json:"model" cue:"{...}"`
    // Components represents a list of holos components to manage.
    Components []PlatformComponent `json:"components"`
}
```

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
